{"version":3,"sources":["app.js","jquery.fitvids.js","medium-zoom.js","gallery-card.js","infinite-scroll.js","sticky-nav-title.js"],"names":["managePostImages","$","find","each","this","closest","hasClass","parent","is","addClass","fn","fitVids","options","settings","customSelector","ignore","document","getElementById","head","getElementsByTagName","div","createElement","innerHTML","appendChild","childNodes","extend","selectors","push","ignoreList","$allVideos","join","not","$this","parents","length","tagName","toLowerCase","css","isNaN","attr","aspectRatio","parseInt","height","width","videoName","_count","wrap","removeAttr","window","jQuery","Zepto","global","factory","exports","module","define","amd","self","mediumZoom","isSupported","node","isNode","selector","nodeType","isSvg","image","currentSrc","src","substr","getImagesFromSelector","Array","isArray","filter","NodeList","prototype","isPrototypeOf","slice","call","querySelectorAll","err","TypeError","createCustomEvent","type","params","eventParams","_extends","bubbles","cancelable","detail","undefined","CustomEvent","customEvent","createEvent","initCustomEvent","Object","assign","target","i","arguments","source","key","hasOwnProperty","ref","insertAt","style","firstChild","insertBefore","styleSheet","cssText","createTextNode","styleInject","attach","_len","_key","newImages","reduce","imagesAccumulator","currentSelector","concat","newImage","images","indexOf","forEach","classList","add","eventListeners","_ref","listener","addEventListener","zoom","open","_animate","container","documentElement","clientWidth","clientHeight","left","top","right","bottom","viewportWidth","viewportHeight","zoomOptions","margin","_zoomContainer$getBou","querySelector","getBoundingClientRect","_width","_height","_left","_top","zoomTarget","active","zoomedHd","original","naturalWidth","naturalHeight","_zoomTarget$getBoundi","scaleX","Math","min","scaleY","scale","transform","zoomed","Promise","resolve","_images","template","_template$getBounding","clone","scrollTop","scrollLeft","dispatchEvent","pageYOffset","body","isAnimating","cloneNode","pageXOffset","removeAttribute","position","overlay","content","requestAnimationFrame","close","_handleOpenEnd","removeEventListener","getAttribute","onerror","clearInterval","getZoomTargetSize","console","warn","setInterval","complete","hasAttribute","loadEventListener","noop","remove","transition","opacity","_handleCloseEnd","removeChild","toggle","toString","background","scrollOffset","event","keyCode","currentScroll","abs","setTimeout","update","newOptions","detach","_len2","_key2","imagesToDetach","on","off","eventListener","getOptions","getImages","getZoomedImage","currentTheme","localStorage","getItem","toggleTheme","theme","html","themeToggleButton","idx","el","removeClass","setAttribute","evt","result","currentTarget","setItem","ratio","attributes","value","flex","nextElement","feedElement","buffer","ticking","loading","lastScrollY","scrollY","lastWindowHeight","innerHeight","lastDocumentHeight","scrollHeight","onScroll","passive","onResize","requestTick","onPageLoad","status","response","item","importNode","resNextElement","href","onUpdate","xhr","XMLHttpRequest","responseType","send","Casper","stickyNavTitle","nav","navSelector","title","titleSelector","progressEl","progressSelector","offsetHeight","activeClass","progress"],"mappings":"AAAA,SAAAA,mBACAC,EAAA,iBAAAC,KAAA,OAAAC,KAAA,WAEAF,EAAAG,MAAAC,QAAA,UAAAC,SAAA,qBACAL,EAAAG,MAAAG,SAAAC,GAAA,MAEAP,EAAAG,MAAAK,SAAA,kBCMA,SAAAR,GAEA,aAEAA,EAAAS,GAAAC,QAAA,SAAAC,GACA,IAAAC,EAAA,CACAC,eAAA,KACAC,OAAA,MAGA,IAAAC,SAAAC,eAAA,kBAAA,CAEA,IAAAC,EAAAF,SAAAE,MAAAF,SAAAG,qBAAA,QAAA,GAEAC,EAAAJ,SAAAK,cAAA,OACAD,EAAAE,UAAA,oUACAJ,EAAAK,YAAAH,EAAAI,WAAA,IAOA,OAJAZ,GACAX,EAAAwB,OAAAZ,EAAAD,GAGAR,KAAAD,KAAA,WACA,IAAAuB,EAAA,CACA,kCACA,6BACA,sCACA,oDACA,SACA,SAGAb,EAAAC,gBACAY,EAAAC,KAAAd,EAAAC,gBAGA,IAAAc,EAAA,iBAEAf,EAAAE,SACAa,EAAAA,EAAA,KAAAf,EAAAE,QAGA,IAAAc,EAAA5B,EAAAG,MAAAF,KAAAwB,EAAAI,KAAA,OAEAD,GADAA,EAAAA,EAAAE,IAAA,kBACAA,IAAAH,IAEAzB,KAAA,WACA,IAAA6B,EAAA/B,EAAAG,MACA,KAAA,EAAA4B,EAAAC,QAAAL,GAAAM,QAGA,UAAA9B,KAAA+B,QAAAC,eAAAJ,EAAAzB,OAAA,UAAA2B,QAAAF,EAAAzB,OAAA,8BAAA2B,QAAA,CACAF,EAAAK,IAAA,WAAAL,EAAAK,IAAA,WAAAC,MAAAN,EAAAO,KAAA,aAAAD,MAAAN,EAAAO,KAAA,YAEAP,EAAAO,KAAA,SAAA,GACAP,EAAAO,KAAA,QAAA,KAEA,IAEAC,GAFA,WAAApC,KAAA+B,QAAAC,eAAAJ,EAAAO,KAAA,YAAAD,MAAAG,SAAAT,EAAAO,KAAA,UAAA,KAAAE,SAAAT,EAAAO,KAAA,UAAA,IAAAP,EAAAU,WACAJ,MAAAG,SAAAT,EAAAO,KAAA,SAAA,KAAAP,EAAAW,QAAAF,SAAAT,EAAAO,KAAA,SAAA,KAEA,IAAAP,EAAAO,KAAA,QAAA,CACA,IAAAK,EAAA,SAAA3C,EAAAS,GAAAC,QAAAkC,OACAb,EAAAO,KAAA,OAAAK,GACA3C,EAAAS,GAAAC,QAAAkC,SAEAb,EAAAc,KAAA,gGAAAvC,OAAA,8BAAA8B,IAAA,cAAA,IAAAG,EAAA,KACAR,EAAAe,WAAA,UAAAA,WAAA,eAMA9C,EAAAS,GAAAC,QAAAkC,OAAA,EAzEA,CA4EAG,OAAAC,QAAAD,OAAAE,OCvFA,SAAAC,EAAAC,GACA,iBAAAC,SAAA,oBAAAC,OAAAA,OAAAD,QAAAD,IAAA,mBAAAG,QAAAA,OAAAC,IAAAD,OAAAH,IAAAD,EAAAA,GAAAM,MACAC,WAAAN,IAFA,CAGAhD,KAAA,WACA,aAYA,SAAAuD,EAAAC,GACA,MAAA,QAAAA,EAAAzB,QAKA,SAAA0B,EAAAC,GACA,OAAAA,GAAA,IAAAA,EAAAC,SAEA,SAAAC,EAAAC,GAEA,MAAA,UADAA,EAAAC,YAAAD,EAAAE,KACAC,QAAA,GAAAhC,cAEA,SAAAiC,EAAAP,GACA,IACA,OAAAQ,MAAAC,QAAAT,GACAA,EAAAU,OAAAb,IAbAG,EAeAA,EAdAW,SAAAC,UAAAC,cAAAb,GAeA,GAAAc,MAAAC,KAAAf,GAAAU,OAAAb,GAEAE,EAAAC,GACA,CAAAA,GAAAU,OAAAb,GAEA,iBAAAG,EACA,GAAAc,MAAAC,KAAA7D,SAAA8D,iBAAAhB,IAAAU,OAAAb,GAEA,IACA,MAAAoB,GACA,MAAA,IAAAC,UAAA,6JA1BA,IAAAlB,EAiDA,SAAAmB,EAAAC,EAAAC,GACA,IAAAC,EAAAC,EAAA,CACAC,SAAA,EACAC,YAAA,EACAC,YAAAC,GACAN,GACA,GAAA,mBAAAnC,OAAA0C,YACA,OAAA,IAAAA,YAAAR,EAAAE,GAEA,IAAAO,EAAA3E,SAAA4E,YAAA,eAEA,OADAD,EAAAE,gBAAAX,EAAAE,EAAAE,QAAAF,EAAAG,WAAAH,EAAAI,QACAG,EA1EA,IAAAN,EAAAS,OAAAC,QAAA,SAAAC,GACA,IAAA,IAAAC,EAAA,EAAAA,EAAAC,UAAAhE,OAAA+D,IAAA,CACA,IAAAE,EAAAD,UAAAD,GACA,IAAA,IAAAG,KAAAD,EACAL,OAAApB,UAAA2B,eAAAxB,KAAAsB,EAAAC,KACAJ,EAAAI,GAAAD,EAAAC,IAIA,OAAAJ,GA+cA,OA1BA,SAAA3D,EAAAiE,QACA,IAAAA,IAAAA,EAAA,IACA,IAAAC,EAAAD,EAAAC,SACA,GAAAlE,GAAA,oBAAArB,SAAA,CAGA,IAAAE,EAAAF,SAAAE,MAAAF,SAAAG,qBAAA,QAAA,GACAqF,EAAAxF,SAAAK,cAAA,SACAmF,EAAAtB,KAAA,WACA,QAAAqB,GACArF,EAAAuF,WACAvF,EAAAwF,aAAAF,EAAAtF,EAAAuF,YAKAvF,EAAAK,YAAAiF,GAEAA,EAAAG,WACAH,EAAAG,WAAAC,QAAAvE,EAEAmE,EAAAjF,YAAAP,SAAA6F,eAAAxE,KAIAyE,CADA,ycA1YA,SAAApD,EAAAI,EAAA,GA6DA,SAAAiD,IACA,IAAA,IAAAC,EAAAd,UAAAhE,OAAAR,EAAA4C,MAAA0C,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IACAvF,EAAAuF,GAAAf,UAAAe,GAEA,IAAAC,EAAAxF,EAAAyF,OAAA,SAAAC,EAAAC,GACA,MAAA,GAAAC,OAAAF,EAAA/C,EAAAgD,KACA,IAaA,OAZAH,EAAA1C,OAAA,SAAA+C,GACA,OAAA,IAAAC,EAAAC,QAAAF,KACAG,QAAA,SAAAH,GACAC,EAAA7F,KAAA4F,GACAA,EAAAI,UAAAC,IAAA,uBAEAC,EAAAH,QAAA,SAAAI,GACA,IAAA5C,EAAA4C,EAAA5C,KAAA6C,EAAAD,EAAAC,SAAAnH,EAAAkH,EAAAlH,QACAsG,EAAAQ,QAAA,SAAAzD,GACAA,EAAA+D,iBAAA9C,EAAA6C,EAAAnH,OAGAqH,EA+CA,SAAAC,EAAA,GAEA,SAAAC,IACA,IAAAC,EAAA,CACAzF,MAAA3B,SAAAqH,gBAAAC,YACA5F,OAAA1B,SAAAqH,gBAAAE,aACAC,KAAA,EACAC,IAAA,EACAC,MAAA,EACAC,OAAA,GAEAC,OAAA,EACAC,OAAA,EACA,GAAAC,EAAAV,UACA,GAAAU,EAAAV,qBAAAtC,OAEA8C,GADAR,EAAA/C,EAAA,GAAA+C,EAAAU,EAAAV,YACAzF,MAAAyF,EAAAI,KAAAJ,EAAAM,MAAA,EAAAI,EAAAC,OACAF,EAAAT,EAAA1F,OAAA0F,EAAAK,IAAAL,EAAAO,OAAA,EAAAG,EAAAC,WACA,CACA,IACAC,GADAnF,EAAAiF,EAAAV,WAAAU,EAAAV,UAAApH,SAAAiI,cAAAH,EAAAV,YACAc,wBAAAC,EAAAH,EAAArG,MAAAyG,EAAAJ,EAAAtG,OAAA2G,EAAAL,EAAAR,KAAAc,EAAAN,EAAAP,IACAL,EAAA/C,EAAA,GAAA+C,EAAA,CACAzF,MAAAwG,EACAzG,OAAA0G,EACAZ,KAAAa,EACAZ,IAAAa,IAIAV,EAAAA,GAAAR,EAAAzF,MAAA,EAAAmG,EAAAC,OACAF,EAAAA,GAAAT,EAAA1F,OAAA,EAAAoG,EAAAC,OACA,IAAAQ,EAAAC,EAAAC,UAAAD,EAAAE,SACAC,GAAA3F,EAAAuF,IAAAA,EAAAI,cAAAf,EACAgB,GAAA5F,EAAAuF,IAAAA,EAAAK,eAAAf,EACAgB,EAAAN,EAAAL,wBAAAT,EAAAoB,EAAApB,IAAAD,EAAAqB,EAAArB,KAAA7F,EAAAkH,EAAAlH,MAAAD,EAAAmH,EAAAnH,OACAoH,EAAAC,KAAAC,IAAAL,EAAAf,GAAAjG,EACAsH,EAAAF,KAAAC,IAAAJ,EAAAf,GAAAnG,EACAwH,EAAAH,KAAAC,IAAAF,EAAAG,GAGAE,EAAA,SAAAD,EAAA,mBAFAtB,EAAAjG,GAAA,EAAA6F,EAAAM,EAAAC,OAAAX,EAAAI,MAAA0B,EAEA,SADArB,EAAAnG,GAAA,EAAA+F,EAAAK,EAAAC,OAAAX,EAAAK,KAAAyB,EACA,SACAV,EAAAY,OAAA5D,MAAA2D,UAAAA,EACAX,EAAAC,WACAD,EAAAC,SAAAjD,MAAA2D,UAAAA,GA1CA,IAAAnE,GAAA,EAAAE,UAAAhE,aAAAuD,IADA,EAAA,EACA,IAAAO,OA6CA,OAAA,IAAAqE,EAAA,SAAAC,GACA,GAAAtE,IAAA,IAAAwB,EAAAC,QAAAzB,GACAsE,EAAArC,OADA,CAcA,GAAAuB,EAAAY,OACAE,EAAArC,OADA,CAIA,GAAAjC,EACAwD,EAAAE,SAAA1D,MACA,CAAA,KAAA,EAAAwB,EAAAtF,QAKA,YADAoI,EAAArC,GAHA,IAAAsC,EAAA/C,EACAgC,EAAAE,SAAAa,EAAA,GA/NA,IAAAC,EACAC,EAAAhC,EAAAD,EAAA7F,EAAAD,EACAgI,EACAC,EACAC,EAyOA,GATApB,EAAAE,SAAAmB,cAAA5F,EAAA,mBAAA,CACAO,OAAA,CACAyC,KAAAA,MAGA0C,EAAA3H,OAAA8H,aAAA9J,SAAAqH,gBAAAsC,WAAA3J,SAAA+J,KAAAJ,WAAA,EACAK,GAAA,EACAxB,EAAAY,QA3OAI,EA2OAhB,EAAAE,SA1OAe,EAAAD,EAAAtB,wBAAAT,EAAAgC,EAAAhC,IAAAD,EAAAiC,EAAAjC,KAAA7F,EAAA8H,EAAA9H,MAAAD,EAAA+H,EAAA/H,OACAgI,EAAAF,EAAAS,YACAN,EAAA3H,OAAA8H,aAAA9J,SAAAqH,gBAAAsC,WAAA3J,SAAA+J,KAAAJ,WAAA,EACAC,EAAA5H,OAAAkI,aAAAlK,SAAAqH,gBAAAuC,YAAA5J,SAAA+J,KAAAH,YAAA,EACAF,EAAAS,gBAAA,MACAT,EAAAlE,MAAA4E,SAAA,WACAV,EAAAlE,MAAAiC,IAAAA,EAAAkC,EAAA,KACAD,EAAAlE,MAAAgC,KAAAA,EAAAoC,EAAA,KACAF,EAAAlE,MAAA7D,MAAAA,EAAA,KACA+H,EAAAlE,MAAA9D,OAAAA,EAAA,KACAgI,EAAAlE,MAAA2D,UAAA,GACAO,GAgOA1J,SAAA+J,KAAAxJ,YAAA8J,GACAvC,EAAA0B,SAAA,CACA,IAAAA,EAAA3G,EAAAiF,EAAA0B,UAAA1B,EAAA0B,SAAAxJ,SAAAiI,cAAAH,EAAA0B,UACAhB,EAAAgB,SAAAxJ,SAAAK,cAAA,OACAmI,EAAAgB,SAAAjJ,YAAAiJ,EAAAc,QAAAL,WAAA,IACAjK,SAAA+J,KAAAxJ,YAAAiI,EAAAgB,UAUA,GARAxJ,SAAA+J,KAAAxJ,YAAAiI,EAAAY,QACApH,OAAAuI,sBAAA,WACAvK,SAAA+J,KAAApD,UAAAC,IAAA,yBAEA4B,EAAAE,SAAA/B,UAAAC,IAAA,6BACA4B,EAAAY,OAAAzC,UAAAC,IAAA,6BACA4B,EAAAY,OAAApC,iBAAA,QAAAwD,GACAhC,EAAAY,OAAApC,iBAAA,gBA7CA,SAAAyD,IACAT,GAAA,EACAxB,EAAAY,OAAAsB,oBAAA,gBAAAD,GACAjC,EAAAE,SAAAmB,cAAA5F,EAAA,qBAAA,CACAO,OAAA,CACAyC,KAAAA,MAGAqC,EAAArC,KAsCAuB,EAAAE,SAAAiC,aAAA,iBAAA,CACAnC,EAAAC,SAAAD,EAAAY,OAAAa,YACAzB,EAAAC,SAAA0B,gBAAA,UACA3B,EAAAC,SAAA0B,gBAAA,SACA3B,EAAAC,SAAAtF,IAAAqF,EAAAY,OAAAuB,aAAA,iBACAnC,EAAAC,SAAAmC,QAAA,WACAC,cAAAC,GACAC,QAAAC,KAAA,yCAAAxC,EAAAC,SAAAtF,KACAqF,EAAAC,SAAA,KACAtB,KAEA,IAAA2D,EAAAG,YAAA,WACAzC,EAAAC,SAAAyC,WACAL,cAAAC,GACAtC,EAAAC,SAAA9B,UAAAC,IAAA,6BACA4B,EAAAC,SAAAzB,iBAAA,QAAAwD,GACAxK,SAAA+J,KAAAxJ,YAAAiI,EAAAC,UACAtB,MAEA,SACA,GAAAqB,EAAAE,SAAAyC,aAAA,UAAA,CACA3C,EAAAC,SAAAD,EAAAY,OAAAa,YACAzB,EAAAC,SAAA0B,gBAAA,SACA3B,EAAAC,SAAA0B,gBAAA,WACA,IAAAiB,EAAA5C,EAAAC,SAAAzB,iBAAA,OAAA,WACAwB,EAAAC,SAAAiC,oBAAA,OAAAU,GACA5C,EAAAC,SAAA9B,UAAAC,IAAA,6BACA4B,EAAAC,SAAAzB,iBAAA,QAAAwD,GACAxK,SAAA+J,KAAAxJ,YAAAiI,EAAAC,UACAtB,WAGAA,QA/PA,IAAAvH,EAAA,EAAAsF,UAAAhE,aAAAuD,IADA,EAAA,EACA,GACA4E,EAAArH,OAAAqH,SAAA,SAAA3J,GACA,SAAA2L,KACA3L,EAAA2L,EAAAA,IAgQAb,EAAA,WACA,OAAA,IAAAnB,EAAA,SAAAC,GACA,IAAAU,GAAAxB,EAAAE,SAAA,CA4BAsB,GAAA,EACAhK,SAAA+J,KAAApD,UAAA2E,OAAA,uBACA9C,EAAAY,OAAA5D,MAAA2D,UAAA,GACAX,EAAAC,WACAD,EAAAC,SAAAjD,MAAA2D,UAAA,IAEAX,EAAAgB,WACAhB,EAAAgB,SAAAhE,MAAA+F,WAAA,gBACA/C,EAAAgB,SAAAhE,MAAAgG,QAAA,GAEAhD,EAAAE,SAAAmB,cAAA5F,EAAA,oBAAA,CACAO,OAAA,CACAyC,KAAAA,MAGAuB,EAAAY,OAAApC,iBAAA,gBAvCA,SAAAyE,IACAjD,EAAAE,SAAA/B,UAAA2E,OAAA,6BACAtL,SAAA+J,KAAA2B,YAAAlD,EAAAY,QACAZ,EAAAC,UACAzI,SAAA+J,KAAA2B,YAAAlD,EAAAC,UAEAzI,SAAA+J,KAAA2B,YAAArB,GACA7B,EAAAY,OAAAzC,UAAA2E,OAAA,6BACA9C,EAAAgB,UACAxJ,SAAA+J,KAAA2B,YAAAlD,EAAAgB,UAEAQ,GAAA,EACAxB,EAAAY,OAAAsB,oBAAA,gBAAAe,GACAjD,EAAAE,SAAAmB,cAAA5F,EAAA,qBAAA,CACAO,OAAA,CACAyC,KAAAA,MAGAuB,EAAAE,SAAA,KACAF,EAAAY,OAAA,KACAZ,EAAAC,SAAA,KACAD,EAAAgB,SAAA,KACAF,EAAArC,UAzBAqC,EAAArC,MA6CA0E,EAAA,SAAA,GACA,IAAA3G,GAAA,EAAAE,UAAAhE,aAAAuD,IADA,EAAA,EACA,IAAAO,OACA,OAAAwD,EAAAE,SACA8B,IAEAtD,EAAA,CACAlC,OAAAA,KAYAwB,EAAA,GACAK,EAAA,GACAmD,GAAA,EACAL,EAAA,EACA7B,EAAAlI,EACA4I,EAAA,CACAE,SAAA,KACAU,OAAA,KACAX,SAAA,KACAe,SAAA,MAEA,oBAAA1E,OAAApB,UAAAkI,SAAA/H,KAAAf,GACAgF,EAAAhF,GACAA,GAAA,iBAAAA,GACAiD,EAAAjD,GAEAgF,EAAAzD,EAAA,CACA0D,OAAA,EACA8D,WAAA,OACAC,aAAA,GACA1E,UAAA,KACAoC,SAAA,MACA1B,GACA,IA9XA+D,EACAxB,EA6XAA,GA9XAwB,EA8XA/D,EAAA+D,YA7XAxB,EAAArK,SAAAK,cAAA,QACAsG,UAAAC,IAAA,uBACAyD,EAAA7E,MAAAqG,WAAAA,EACAxB,GA2XArK,SAAAgH,iBAAA,QAxVA,SAAA+E,GACA,IAAA/G,EAAA+G,EAAA/G,OACAA,IAAAqF,GAIA,IAAA7D,EAAAC,QAAAzB,IAGA2G,EAAA,CACA3G,OAAAA,IAPAwF,MAsVAxK,SAAAgH,iBAAA,QAnUA,SAAA+E,GACA,IAAA3G,EAAA2G,EAAA3G,KAAA2G,EAAAC,QACA,WAAA5G,GAAA,QAAAA,GAAA,KAAAA,GACAoF,MAiUAxK,SAAAgH,iBAAA,SA7UA,WACA,IAAAgD,GAAAxB,EAAAE,SAAA,CAGA,IAAAuD,EAAAjK,OAAA8H,aAAA9J,SAAAqH,gBAAAsC,WAAA3J,SAAA+J,KAAAJ,WAAA,EACAZ,KAAAmD,IAAAvC,EAAAsC,GAAAnE,EAAAgE,cACAK,WAAA3B,EAAA,QAwUAxI,OAAAgF,iBAAA,SAAAwD,GACA,IAAAvD,EAAA,CACAC,KAAAA,EACAsD,MAAAA,EACAmB,OAAAA,EACAS,OApUA,SAAA,GACA,IAAAxM,EAAA,EAAAsF,UAAAhE,aAAAuD,IADA,EAAA,EACA,GACA4H,EAAAzM,EAOA,GANAA,EAAAiM,aACAxB,EAAA7E,MAAAqG,WAAAjM,EAAAiM,YAEAjM,EAAAwH,WAAAxH,EAAAwH,qBAAAtC,SACAuH,EAAAjF,UAAA/C,EAAA,GAAAyD,EAAAV,UAAAxH,EAAAwH,YAEAxH,EAAA4J,SAAA,CACA,IAAAA,EAAA3G,EAAAjD,EAAA4J,UAAA5J,EAAA4J,SAAAxJ,SAAAiI,cAAArI,EAAA4J,UACA6C,EAAA7C,SAAAA,EAUA,OARA1B,EAAAzD,EAAA,GAAAyD,EAAAuE,GACA7F,EAAAE,QAAA,SAAAzD,GACAA,EAAA4G,cAAA5F,EAAA,qBAAA,CACAO,OAAA,CACAyC,KAAAA,QAIAA,GAgTAyC,MA9SA,SAAA,GAEA,OAAAhH,EAAA2B,EAAA,GAAAyD,EADA,EAAA5C,UAAAhE,aAAAuD,IADA,EAAA,EACA,MA8SAsB,OAAAA,EACAuG,OAvRA,WACA,IAAA,IAAAC,EAAArH,UAAAhE,OAAAR,EAAA4C,MAAAiJ,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IACA9L,EAAA8L,GAAAtH,UAAAsH,GAEAhE,EAAAY,QACAoB,IAEA,IAAAiC,EAAA,EAAA/L,EAAAQ,OAAAR,EAAAyF,OAAA,SAAAC,EAAAC,GACA,MAAA,GAAAC,OAAAF,EAAA/C,EAAAgD,KACA,IAAAG,EAYA,OAXAiG,EAAA/F,QAAA,SAAAzD,GACAA,EAAA0D,UAAA2E,OAAA,qBACArI,EAAA4G,cAAA5F,EAAA,qBAAA,CACAO,OAAA,CACAyC,KAAAA,QAIAT,EAAAA,EAAAhD,OAAA,SAAAP,GACA,OAAA,IAAAwJ,EAAAhG,QAAAxD,KAEAgE,GAmQAyF,GAjQA,SAAAxI,EAAA6C,EAAA,GACA,IAAAnH,EAAA,EAAAsF,UAAAhE,aAAAuD,IADA,EAAA,EACA,GASA,OARA+B,EAAAE,QAAA,SAAAzD,GACAA,EAAA+D,iBAAA,eAAA9C,EAAA6C,EAAAnH,KAEAiH,EAAAlG,KAAA,CACAuD,KAAA,eAAAA,EACA6C,SAAAA,EACAnH,QAAAA,IAEAqH,GAwPA0F,IAtPA,SAAAzI,EAAA6C,EAAA,GACA,IAAAnH,EAAA,EAAAsF,UAAAhE,aAAAuD,IADA,EAAA,EACA,GAOA,OANA+B,EAAAE,QAAA,SAAAzD,GACAA,EAAAyH,oBAAA,eAAAxG,EAAA6C,EAAAnH,KAEAiH,EAAAA,EAAArD,OAAA,SAAAoJ,GACA,QAAAA,EAAA1I,OAAA,eAAAA,GAAA0I,EAAA7F,SAAA6E,aAAA7E,EAAA6E,cAEA3E,GA+OA4F,WA/CA,WACA,OAAA/E,GA+CAgF,UA7CA,WACA,OAAAtG,GA6CAuG,eA3CA,WACA,OAAAvE,EAAAE,WA4CA,OAAAzB,KFtbAjI,mBAEA0D,WAAA,eAAA,CAAA0E,UAAA,yBAAAyE,WAAA,OAAAC,aAAA,MAKA,IAAAkB,aAAAhL,OAAAiL,aAAAC,QAAA,SAiBA,SAAAC,YAAAC,GACA,IAAAC,EAAApO,EAAA,QACAqO,EAAArO,EAAA,iBAGAA,EAAAE,KAAAmO,EAAA,SAAAC,EAAAC,GAAAA,EAAArD,gBAAA,gBACAkD,EAAAI,YAAA,QAGA,QAAAL,IACAnO,EAAAE,KAAAmO,EAAA,SAAAC,EAAAC,GAAAA,EAAAE,aAAA,aAAA,UAEAL,EAAA5N,SAAA,SA5BAuN,cACAG,YAAAH,cAGA/N,EAAA,iBAAAyN,GAAA,QAAA,SAAAiB,GACA,IACAC,EAMAT,YAJAS,EAHAD,EAAAE,cAAAlD,aAAA,cAGA,QAEA,QAGA3I,OAAAiL,aAAAa,QAAA,QAAAF,KGvBA,SAAA5N,GAYAA,EAAAgH,iBAAA,mBAXA,WACAhH,EAAA8D,iBAAA,yBACA4C,QAAA,SAAAzD,GACA,IAAAmE,EAAAnE,EAAA5D,QAAA,qBAGA0O,EAFA9K,EAAA+K,WAAArM,MAAAsM,MACAhL,EAAA+K,WAAAtM,OAAAuM,MAEA7G,EAAA5B,MAAA0I,KAAAH,EAAA,YARA,EAaA/L,OAAAhC,WCRA,SAAAgC,EAAAhC,GAEA,IAAAmO,EAAAnO,EAAAiI,cAAA,kBACA,GAAAkG,EAAA,CAKA,IAAAC,EAAApO,EAAAiI,cAAA,cACA,GAAAmG,EAAA,CAIA,IAAAC,EAAA,IAEAC,GAAA,EACAC,GAAA,EAEAC,EAAAxM,EAAAyM,QACAC,EAAA1M,EAAA2M,YACAC,EAAA5O,EAAAqH,gBAAAwH,aAwEA7M,EAAAgF,iBAAA,SAAA8H,EAAA,CAAAC,SAAA,IACA/M,EAAAgF,iBAAA,SAAAgI,GAEAC,KAzEA,SAAAC,IACA,GAAA,MAAA9P,KAAA+P,OAGA,OAFAnN,EAAA0I,oBAAA,SAAAoE,QACA9M,EAAA0I,oBAAA,SAAAsE,GAKA5P,KAAAgQ,SAAAtL,iBAAA,cACA4C,QAAA,SAAA2I,GAIAjB,EAAA7N,YAAAP,EAAAsP,WAAAD,GAAA,MAIA,IAAAE,EAAAnQ,KAAAgQ,SAAAnH,cAAA,kBACAsH,EACApB,EAAAqB,KAAAD,EAAAC,MAEAxN,EAAA0I,oBAAA,SAAAoE,GACA9M,EAAA0I,oBAAA,SAAAsE,IAIAJ,EAAA5O,EAAAqH,gBAAAwH,aAEAN,EADAD,GAAA,EAIA,SAAAmB,IAEA,IAAAlB,EAKA,GAAAC,EAAAE,GAAAE,EAAAP,EACAC,GAAA,MADA,CAKAC,GAAA,EAEA,IAAAmB,EAAA,IAAA1N,EAAA2N,eACAD,EAAAE,aAAA,WAEAF,EAAA1I,iBAAA,OAAAkI,GAEAQ,EAAAxI,KAAA,MAAAiH,EAAAqB,MACAE,EAAAG,KAAA,OAGA,SAAAZ,IACAX,GAAAtM,EAAAuI,sBAAAkF,GACAnB,GAAA,EAGA,SAAAQ,IACAN,EAAAxM,EAAAyM,QACAQ,IAGA,SAAAD,IACAN,EAAA1M,EAAA2M,YACAC,EAAA5O,EAAAqH,gBAAAwH,aACAI,KAzFA,CAgGAjN,OAAAhC,UC9FA,SAAAgC,EAAAhC,GAEAgC,EAAA8N,SACA9N,EAAA8N,OAAA,IAGA9N,EAAA8N,OAAAC,eAAA,SAAAnQ,GACA,IAAAoQ,EAAAhQ,EAAAiI,cAAArI,EAAAqQ,aACAC,EAAAlQ,EAAAiI,cAAArI,EAAAuQ,eACAC,EAAApQ,EAAAiI,cAAArI,EAAAyQ,kBAEA7B,EAAAxM,EAAAyM,QACAH,GAAA,EAcA,SAAAlC,IACA8D,EAAAhI,wBAAAT,IAAAzF,EAAAyM,SACAyB,EAAAI,aAAA,KAGA9B,EACAwB,EAAArJ,UAAAC,IAAAhH,EAAA2Q,aAEAP,EAAArJ,UAAA2E,OAAA1L,EAAA2Q,aAIA,IAAAC,EAAAxO,EAAA,SAAAhC,EAAA+J,KAAAxC,aAAAvF,EAAA2M,aAAA,IACAyB,EAAA5K,MAAA7D,MAAA6O,EAAA,IAGAlC,GAAA,EAGAtM,EAAAgF,iBAAA,SA/BA,WACAwH,EAAAxM,EAAAyM,QAIA,WACAH,GACA/D,sBAAA6B,GAEAkC,GAAA,EAPAW,IA6BA,CAAAF,SAAA,IAEA3C,KA/CA,CAiDApK,OAAAhC","file":"casper.js","sourcesContent":["function managePostImages(){\r\n    $('.post-content').find('img').each(function () {\r\n      if (\r\n        !$(this).closest('figure').hasClass('kg-bookmark-card') &&\r\n        !$(this).parent().is('a')\r\n      ) {\r\n        $(this).addClass('js-zoomable')\r\n      }\r\n    })\r\n  }\r\n\r\n// Add special class to zoomable images\r\nmanagePostImages();\r\n// Call medium zoom library on all imgs within post-content\r\nmediumZoom('.js-zoomable', { container: \"#medium-zoom-container\", background: '#111', scrollOffset: 100 });\r\n// mediumZoom('.post-content .kg-image-card img', { background: '#111' });\r\n// mediumZoom('.post-content .kg-gallery-card img', { background: '#111' });\r\n// mediumZoom('.post-content .kg-gallery-card img', { background: '#111' });\r\n\r\nvar currentTheme = window.localStorage.getItem(\"theme\");\r\nif (currentTheme) {\r\n  toggleTheme(currentTheme);\r\n}\r\n\r\n$(\".theme-toggle\").on(\"click\", function(evt) {\r\n  var attr = evt.currentTarget.getAttribute(\"data-theme\");\r\n  var result;\r\n  if (attr) {\r\n    result = \"light\";\r\n  } else {\r\n    result = \"dark\"\r\n  }\r\n  toggleTheme(result);\r\n  window.localStorage.setItem(\"theme\", result);\r\n});\r\n\r\nfunction toggleTheme(theme) {\r\n  var html = $(\"html\");\r\n  var themeToggleButton = $(\".theme-toggle\");\r\n\r\n  // reset\r\n  $.each(themeToggleButton, function(idx, el){el.removeAttribute(\"data-theme\")});\r\n  html.removeClass(\"dark\");\r\n\r\n  // change only in case of dark\r\n  if (theme == \"dark\") {\r\n    $.each(themeToggleButton, function(idx, el){el.setAttribute(\"data-theme\", \"dark\")});\r\n    // themeToggleButton.setAttribute(\"data-theme\", \"dark\");\r\n    html.addClass(\"dark\");\r\n  }\r\n}","/*jshint browser:true */\r\n/*!\r\n* FitVids 1.3\r\n*\r\n*\r\n* Copyright 2017, Chris Coyier + Dave Rupert + Ghost Foundation\r\n* This is an unofficial release, ported by John O'Nolan\r\n* Credit to Thierry Koblentz - http://www.alistapart.com/articles/creating-intrinsic-ratios-for-video/\r\n* Released under the MIT license\r\n*\r\n*/\r\n\r\n;(function( $ ){\r\n\r\n  'use strict';\r\n\r\n  $.fn.fitVids = function( options ) {\r\n    var settings = {\r\n      customSelector: null,\r\n      ignore: null\r\n    };\r\n\r\n    if(!document.getElementById('fit-vids-style')) {\r\n      // appendStyles: https://github.com/toddmotto/fluidvids/blob/master/dist/fluidvids.js\r\n      var head = document.head || document.getElementsByTagName('head')[0];\r\n      var css = '.fluid-width-video-container{flex-grow: 1;width:100%;}.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}';\r\n      var div = document.createElement(\"div\");\r\n      div.innerHTML = '<p>x</p><style id=\"fit-vids-style\">' + css + '</style>';\r\n      head.appendChild(div.childNodes[1]);\r\n    }\r\n\r\n    if ( options ) {\r\n      $.extend( settings, options );\r\n    }\r\n\r\n    return this.each(function(){\r\n      var selectors = [\r\n        'iframe[src*=\"player.vimeo.com\"]',\r\n        'iframe[src*=\"youtube.com\"]',\r\n        'iframe[src*=\"youtube-nocookie.com\"]',\r\n        'iframe[src*=\"kickstarter.com\"][src*=\"video.html\"]',\r\n        'object',\r\n        'embed'\r\n      ];\r\n\r\n      if (settings.customSelector) {\r\n        selectors.push(settings.customSelector);\r\n      }\r\n\r\n      var ignoreList = '.fitvidsignore';\r\n\r\n      if(settings.ignore) {\r\n        ignoreList = ignoreList + ', ' + settings.ignore;\r\n      }\r\n\r\n      var $allVideos = $(this).find(selectors.join(','));\r\n      $allVideos = $allVideos.not('object object'); // SwfObj conflict patch\r\n      $allVideos = $allVideos.not(ignoreList); // Disable FitVids on this video.\r\n\r\n      $allVideos.each(function(){\r\n        var $this = $(this);\r\n        if($this.parents(ignoreList).length > 0) {\r\n          return; // Disable FitVids on this video.\r\n        }\r\n        if (this.tagName.toLowerCase() === 'embed' && $this.parent('object').length || $this.parent('.fluid-width-video-wrapper').length) { return; }\r\n        if ((!$this.css('height') && !$this.css('width')) && (isNaN($this.attr('height')) || isNaN($this.attr('width'))))\r\n        {\r\n          $this.attr('height', 9);\r\n          $this.attr('width', 16);\r\n        }\r\n        var height = ( this.tagName.toLowerCase() === 'object' || ($this.attr('height') && !isNaN(parseInt($this.attr('height'), 10))) ) ? parseInt($this.attr('height'), 10) : $this.height(),\r\n            width = !isNaN(parseInt($this.attr('width'), 10)) ? parseInt($this.attr('width'), 10) : $this.width(),\r\n            aspectRatio = height / width;\r\n        if(!$this.attr('name')){\r\n          var videoName = 'fitvid' + $.fn.fitVids._count;\r\n          $this.attr('name', videoName);\r\n          $.fn.fitVids._count++;\r\n        }\r\n        $this.wrap('<div class=\"fluid-width-video-container\"><div class=\"fluid-width-video-wrapper\"></div></div>').parent('.fluid-width-video-wrapper').css('padding-top', (aspectRatio * 100)+'%');\r\n        $this.removeAttr('height').removeAttr('width');\r\n      });\r\n    });\r\n  };\r\n\r\n  // Internal counter for unique video names.\r\n  $.fn.fitVids._count = 0;\r\n\r\n// Works with either jQuery or Zepto\r\n})( window.jQuery || window.Zepto );\r\n","/*! medium-zoom 1.0.6 | MIT License | https://github.com/francoischalifour/medium-zoom */\n(function(global, factory) {\n  typeof exports === \"object\" && typeof module !== \"undefined\" ? module.exports = factory() : typeof define === \"function\" && define.amd ? define(factory) : (global = global || self, \n  global.mediumZoom = factory());\n})(this, function() {\n  \"use strict\";\n  var _extends = Object.assign || function(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  var isSupported = function isSupported(node) {\n    return node.tagName === \"IMG\";\n  };\n  var isNodeList = function isNodeList(selector) {\n    return NodeList.prototype.isPrototypeOf(selector);\n  };\n  var isNode = function isNode(selector) {\n    return selector && selector.nodeType === 1;\n  };\n  var isSvg = function isSvg(image) {\n    var source = image.currentSrc || image.src;\n    return source.substr(-4).toLowerCase() === \".svg\";\n  };\n  var getImagesFromSelector = function getImagesFromSelector(selector) {\n    try {\n      if (Array.isArray(selector)) {\n        return selector.filter(isSupported);\n      }\n      if (isNodeList(selector)) {\n        return [].slice.call(selector).filter(isSupported);\n      }\n      if (isNode(selector)) {\n        return [ selector ].filter(isSupported);\n      }\n      if (typeof selector === \"string\") {\n        return [].slice.call(document.querySelectorAll(selector)).filter(isSupported);\n      }\n      return [];\n    } catch (err) {\n      throw new TypeError(\"The provided selector is invalid.\\n\" + \"Expects a CSS selector, a Node element, a NodeList or an array.\\n\" + \"See: https://github.com/francoischalifour/medium-zoom\");\n    }\n  };\n  var createOverlay = function createOverlay(background) {\n    var overlay = document.createElement(\"div\");\n    overlay.classList.add(\"medium-zoom-overlay\");\n    overlay.style.background = background;\n    return overlay;\n  };\n  var cloneTarget = function cloneTarget(template) {\n    var _template$getBounding = template.getBoundingClientRect(), top = _template$getBounding.top, left = _template$getBounding.left, width = _template$getBounding.width, height = _template$getBounding.height;\n    var clone = template.cloneNode();\n    var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;\n    var scrollLeft = window.pageXOffset || document.documentElement.scrollLeft || document.body.scrollLeft || 0;\n    clone.removeAttribute(\"id\");\n    clone.style.position = \"absolute\";\n    clone.style.top = top + scrollTop + \"px\";\n    clone.style.left = left + scrollLeft + \"px\";\n    clone.style.width = width + \"px\";\n    clone.style.height = height + \"px\";\n    clone.style.transform = \"\";\n    return clone;\n  };\n  var createCustomEvent = function createCustomEvent(type, params) {\n    var eventParams = _extends({\n      bubbles: false,\n      cancelable: false,\n      detail: undefined\n    }, params);\n    if (typeof window.CustomEvent === \"function\") {\n      return new CustomEvent(type, eventParams);\n    }\n    var customEvent = document.createEvent(\"CustomEvent\");\n    customEvent.initCustomEvent(type, eventParams.bubbles, eventParams.cancelable, eventParams.detail);\n    return customEvent;\n  };\n  var mediumZoom = function mediumZoom(selector) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var Promise = window.Promise || function Promise(fn) {\n      function noop() {}\n      fn(noop, noop);\n    };\n    var _handleClick = function _handleClick(event) {\n      var target = event.target;\n      if (target === overlay) {\n        close();\n        return;\n      }\n      if (images.indexOf(target) === -1) {\n        return;\n      }\n      toggle({\n        target: target\n      });\n    };\n    var _handleScroll = function _handleScroll() {\n      if (isAnimating || !active.original) {\n        return;\n      }\n      var currentScroll = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;\n      if (Math.abs(scrollTop - currentScroll) > zoomOptions.scrollOffset) {\n        setTimeout(close, 150);\n      }\n    };\n    var _handleKeyUp = function _handleKeyUp(event) {\n      var key = event.key || event.keyCode;\n      if (key === \"Escape\" || key === \"Esc\" || key === 27) {\n        close();\n      }\n    };\n    var update = function update() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var newOptions = options;\n      if (options.background) {\n        overlay.style.background = options.background;\n      }\n      if (options.container && options.container instanceof Object) {\n        newOptions.container = _extends({}, zoomOptions.container, options.container);\n      }\n      if (options.template) {\n        var template = isNode(options.template) ? options.template : document.querySelector(options.template);\n        newOptions.template = template;\n      }\n      zoomOptions = _extends({}, zoomOptions, newOptions);\n      images.forEach(function(image) {\n        image.dispatchEvent(createCustomEvent(\"medium-zoom:update\", {\n          detail: {\n            zoom: zoom\n          }\n        }));\n      });\n      return zoom;\n    };\n    var clone = function clone() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      return mediumZoom(_extends({}, zoomOptions, options));\n    };\n    var attach = function attach() {\n      for (var _len = arguments.length, selectors = Array(_len), _key = 0; _key < _len; _key++) {\n        selectors[_key] = arguments[_key];\n      }\n      var newImages = selectors.reduce(function(imagesAccumulator, currentSelector) {\n        return [].concat(imagesAccumulator, getImagesFromSelector(currentSelector));\n      }, []);\n      newImages.filter(function(newImage) {\n        return images.indexOf(newImage) === -1;\n      }).forEach(function(newImage) {\n        images.push(newImage);\n        newImage.classList.add(\"medium-zoom-image\");\n      });\n      eventListeners.forEach(function(_ref) {\n        var type = _ref.type, listener = _ref.listener, options = _ref.options;\n        newImages.forEach(function(image) {\n          image.addEventListener(type, listener, options);\n        });\n      });\n      return zoom;\n    };\n    var detach = function detach() {\n      for (var _len2 = arguments.length, selectors = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        selectors[_key2] = arguments[_key2];\n      }\n      if (active.zoomed) {\n        close();\n      }\n      var imagesToDetach = selectors.length > 0 ? selectors.reduce(function(imagesAccumulator, currentSelector) {\n        return [].concat(imagesAccumulator, getImagesFromSelector(currentSelector));\n      }, []) : images;\n      imagesToDetach.forEach(function(image) {\n        image.classList.remove(\"medium-zoom-image\");\n        image.dispatchEvent(createCustomEvent(\"medium-zoom:detach\", {\n          detail: {\n            zoom: zoom\n          }\n        }));\n      });\n      images = images.filter(function(image) {\n        return imagesToDetach.indexOf(image) === -1;\n      });\n      return zoom;\n    };\n    var on = function on(type, listener) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      images.forEach(function(image) {\n        image.addEventListener(\"medium-zoom:\" + type, listener, options);\n      });\n      eventListeners.push({\n        type: \"medium-zoom:\" + type,\n        listener: listener,\n        options: options\n      });\n      return zoom;\n    };\n    var off = function off(type, listener) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      images.forEach(function(image) {\n        image.removeEventListener(\"medium-zoom:\" + type, listener, options);\n      });\n      eventListeners = eventListeners.filter(function(eventListener) {\n        return !(eventListener.type === \"medium-zoom:\" + type && eventListener.listener.toString() === listener.toString());\n      });\n      return zoom;\n    };\n    var open = function open() {\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {}, target = _ref2.target;\n      var _animate = function _animate() {\n        var container = {\n          width: document.documentElement.clientWidth,\n          height: document.documentElement.clientHeight,\n          left: 0,\n          top: 0,\n          right: 0,\n          bottom: 0\n        };\n        var viewportWidth = void 0;\n        var viewportHeight = void 0;\n        if (zoomOptions.container) {\n          if (zoomOptions.container instanceof Object) {\n            container = _extends({}, container, zoomOptions.container);\n            viewportWidth = container.width - container.left - container.right - zoomOptions.margin * 2;\n            viewportHeight = container.height - container.top - container.bottom - zoomOptions.margin * 2;\n          } else {\n            var zoomContainer = isNode(zoomOptions.container) ? zoomOptions.container : document.querySelector(zoomOptions.container);\n            var _zoomContainer$getBou = zoomContainer.getBoundingClientRect(), _width = _zoomContainer$getBou.width, _height = _zoomContainer$getBou.height, _left = _zoomContainer$getBou.left, _top = _zoomContainer$getBou.top;\n            container = _extends({}, container, {\n              width: _width,\n              height: _height,\n              left: _left,\n              top: _top\n            });\n          }\n        }\n        viewportWidth = viewportWidth || container.width - zoomOptions.margin * 2;\n        viewportHeight = viewportHeight || container.height - zoomOptions.margin * 2;\n        var zoomTarget = active.zoomedHd || active.original;\n        var naturalWidth = isSvg(zoomTarget) ? viewportWidth : zoomTarget.naturalWidth || viewportWidth;\n        var naturalHeight = isSvg(zoomTarget) ? viewportHeight : zoomTarget.naturalHeight || viewportHeight;\n        var _zoomTarget$getBoundi = zoomTarget.getBoundingClientRect(), top = _zoomTarget$getBoundi.top, left = _zoomTarget$getBoundi.left, width = _zoomTarget$getBoundi.width, height = _zoomTarget$getBoundi.height;\n        var scaleX = Math.min(naturalWidth, viewportWidth) / width;\n        var scaleY = Math.min(naturalHeight, viewportHeight) / height;\n        var scale = Math.min(scaleX, scaleY);\n        var translateX = (-left + (viewportWidth - width) / 2 + zoomOptions.margin + container.left) / scale;\n        var translateY = (-top + (viewportHeight - height) / 2 + zoomOptions.margin + container.top) / scale;\n        var transform = \"scale(\" + scale + \") translate3d(\" + translateX + \"px, \" + translateY + \"px, 0)\";\n        active.zoomed.style.transform = transform;\n        if (active.zoomedHd) {\n          active.zoomedHd.style.transform = transform;\n        }\n      };\n      return new Promise(function(resolve) {\n        if (target && images.indexOf(target) === -1) {\n          resolve(zoom);\n          return;\n        }\n        var _handleOpenEnd = function _handleOpenEnd() {\n          isAnimating = false;\n          active.zoomed.removeEventListener(\"transitionend\", _handleOpenEnd);\n          active.original.dispatchEvent(createCustomEvent(\"medium-zoom:opened\", {\n            detail: {\n              zoom: zoom\n            }\n          }));\n          resolve(zoom);\n        };\n        if (active.zoomed) {\n          resolve(zoom);\n          return;\n        }\n        if (target) {\n          active.original = target;\n        } else if (images.length > 0) {\n          var _images = images;\n          active.original = _images[0];\n        } else {\n          resolve(zoom);\n          return;\n        }\n        active.original.dispatchEvent(createCustomEvent(\"medium-zoom:open\", {\n          detail: {\n            zoom: zoom\n          }\n        }));\n        scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;\n        isAnimating = true;\n        active.zoomed = cloneTarget(active.original);\n        document.body.appendChild(overlay);\n        if (zoomOptions.template) {\n          var template = isNode(zoomOptions.template) ? zoomOptions.template : document.querySelector(zoomOptions.template);\n          active.template = document.createElement(\"div\");\n          active.template.appendChild(template.content.cloneNode(true));\n          document.body.appendChild(active.template);\n        }\n        document.body.appendChild(active.zoomed);\n        window.requestAnimationFrame(function() {\n          document.body.classList.add(\"medium-zoom--opened\");\n        });\n        active.original.classList.add(\"medium-zoom-image--hidden\");\n        active.zoomed.classList.add(\"medium-zoom-image--opened\");\n        active.zoomed.addEventListener(\"click\", close);\n        active.zoomed.addEventListener(\"transitionend\", _handleOpenEnd);\n        if (active.original.getAttribute(\"data-zoom-src\")) {\n          active.zoomedHd = active.zoomed.cloneNode();\n          active.zoomedHd.removeAttribute(\"srcset\");\n          active.zoomedHd.removeAttribute(\"sizes\");\n          active.zoomedHd.src = active.zoomed.getAttribute(\"data-zoom-src\");\n          active.zoomedHd.onerror = function() {\n            clearInterval(getZoomTargetSize);\n            console.warn(\"Unable to reach the zoom image target \" + active.zoomedHd.src);\n            active.zoomedHd = null;\n            _animate();\n          };\n          var getZoomTargetSize = setInterval(function() {\n            if (active.zoomedHd.complete) {\n              clearInterval(getZoomTargetSize);\n              active.zoomedHd.classList.add(\"medium-zoom-image--opened\");\n              active.zoomedHd.addEventListener(\"click\", close);\n              document.body.appendChild(active.zoomedHd);\n              _animate();\n            }\n          }, 10);\n        } else if (active.original.hasAttribute(\"srcset\")) {\n          active.zoomedHd = active.zoomed.cloneNode();\n          active.zoomedHd.removeAttribute(\"sizes\");\n          active.zoomedHd.removeAttribute(\"loading\");\n          var loadEventListener = active.zoomedHd.addEventListener(\"load\", function() {\n            active.zoomedHd.removeEventListener(\"load\", loadEventListener);\n            active.zoomedHd.classList.add(\"medium-zoom-image--opened\");\n            active.zoomedHd.addEventListener(\"click\", close);\n            document.body.appendChild(active.zoomedHd);\n            _animate();\n          });\n        } else {\n          _animate();\n        }\n      });\n    };\n    var close = function close() {\n      return new Promise(function(resolve) {\n        if (isAnimating || !active.original) {\n          resolve(zoom);\n          return;\n        }\n        var _handleCloseEnd = function _handleCloseEnd() {\n          active.original.classList.remove(\"medium-zoom-image--hidden\");\n          document.body.removeChild(active.zoomed);\n          if (active.zoomedHd) {\n            document.body.removeChild(active.zoomedHd);\n          }\n          document.body.removeChild(overlay);\n          active.zoomed.classList.remove(\"medium-zoom-image--opened\");\n          if (active.template) {\n            document.body.removeChild(active.template);\n          }\n          isAnimating = false;\n          active.zoomed.removeEventListener(\"transitionend\", _handleCloseEnd);\n          active.original.dispatchEvent(createCustomEvent(\"medium-zoom:closed\", {\n            detail: {\n              zoom: zoom\n            }\n          }));\n          active.original = null;\n          active.zoomed = null;\n          active.zoomedHd = null;\n          active.template = null;\n          resolve(zoom);\n        };\n        isAnimating = true;\n        document.body.classList.remove(\"medium-zoom--opened\");\n        active.zoomed.style.transform = \"\";\n        if (active.zoomedHd) {\n          active.zoomedHd.style.transform = \"\";\n        }\n        if (active.template) {\n          active.template.style.transition = \"opacity 150ms\";\n          active.template.style.opacity = 0;\n        }\n        active.original.dispatchEvent(createCustomEvent(\"medium-zoom:close\", {\n          detail: {\n            zoom: zoom\n          }\n        }));\n        active.zoomed.addEventListener(\"transitionend\", _handleCloseEnd);\n      });\n    };\n    var toggle = function toggle() {\n      var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {}, target = _ref3.target;\n      if (active.original) {\n        return close();\n      }\n      return open({\n        target: target\n      });\n    };\n    var getOptions = function getOptions() {\n      return zoomOptions;\n    };\n    var getImages = function getImages() {\n      return images;\n    };\n    var getZoomedImage = function getZoomedImage() {\n      return active.original;\n    };\n    var images = [];\n    var eventListeners = [];\n    var isAnimating = false;\n    var scrollTop = 0;\n    var zoomOptions = options;\n    var active = {\n      original: null,\n      zoomed: null,\n      zoomedHd: null,\n      template: null\n    };\n    if (Object.prototype.toString.call(selector) === \"[object Object]\") {\n      zoomOptions = selector;\n    } else if (selector || typeof selector === \"string\") {\n      attach(selector);\n    }\n    zoomOptions = _extends({\n      margin: 0,\n      background: \"#fff\",\n      scrollOffset: 40,\n      container: null,\n      template: null\n    }, zoomOptions);\n    var overlay = createOverlay(zoomOptions.background);\n    document.addEventListener(\"click\", _handleClick);\n    document.addEventListener(\"keyup\", _handleKeyUp);\n    document.addEventListener(\"scroll\", _handleScroll);\n    window.addEventListener(\"resize\", close);\n    var zoom = {\n      open: open,\n      close: close,\n      toggle: toggle,\n      update: update,\n      clone: clone,\n      attach: attach,\n      detach: detach,\n      on: on,\n      off: off,\n      getOptions: getOptions,\n      getImages: getImages,\n      getZoomedImage: getZoomedImage\n    };\n    return zoom;\n  };\n  function styleInject(css, ref) {\n    if (ref === void 0) ref = {};\n    var insertAt = ref.insertAt;\n    if (!css || typeof document === \"undefined\") {\n      return;\n    }\n    var head = document.head || document.getElementsByTagName(\"head\")[0];\n    var style = document.createElement(\"style\");\n    style.type = \"text/css\";\n    if (insertAt === \"top\") {\n      if (head.firstChild) {\n        head.insertBefore(style, head.firstChild);\n      } else {\n        head.appendChild(style);\n      }\n    } else {\n      head.appendChild(style);\n    }\n    if (style.styleSheet) {\n      style.styleSheet.cssText = css;\n    } else {\n      style.appendChild(document.createTextNode(css));\n    }\n  }\n  var css = \".medium-zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--opened .medium-zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.medium-zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)!important}.medium-zoom-image--hidden{visibility:hidden}.medium-zoom-image--opened{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}\";\n  styleInject(css);\n  return mediumZoom;\n});\n","/* eslint-env browser */\r\n\r\n/**\r\n * Gallery card support\r\n * Used on any individual post/page\r\n *\r\n * Detects when a gallery card has been used and applies sizing to make sure\r\n * the display matches what is seen in the editor.\r\n */\r\n\r\n(function (window, document) {\r\n    var resizeImagesInGalleries = function resizeImagesInGalleries() {\r\n        var images = document.querySelectorAll('.kg-gallery-image img');\r\n        images.forEach(function (image) {\r\n            var container = image.closest('.kg-gallery-image');\r\n            var width = image.attributes.width.value;\r\n            var height = image.attributes.height.value;\r\n            var ratio = width / height;\r\n            container.style.flex = ratio + ' 1 0%';\r\n        });\r\n    };\r\n\r\n    document.addEventListener('DOMContentLoaded', resizeImagesInGalleries);\r\n})(window, document);\r\n","/* eslint-env browser */\r\n\r\n/**\r\n * Infinite Scroll\r\n * Used on all pages where there is a list of posts (homepage, tag index, etc).\r\n *\r\n * When the page is scrolled to 300px from the bottom, the next page of posts\r\n * is fetched by following the the <link rel=\"next\" href=\"...\"> that is output\r\n * by {{ghost_head}}.\r\n *\r\n * The individual post items are extracted from the fetched pages by looking for\r\n * a wrapper element with the class \"post-card\". Any found elements are appended\r\n * to the element with the class \"post-feed\" in the currently viewed page.\r\n */\r\n\r\n(function (window, document) {\r\n    // next link element\r\n    var nextElement = document.querySelector('link[rel=next]');\r\n    if (!nextElement) {\r\n        return;\r\n    }\r\n\r\n    // post feed element\r\n    var feedElement = document.querySelector('.post-feed');\r\n    if (!feedElement) {\r\n        return;\r\n    }\r\n\r\n    var buffer = 300;\r\n\r\n    var ticking = false;\r\n    var loading = false;\r\n\r\n    var lastScrollY = window.scrollY;\r\n    var lastWindowHeight = window.innerHeight;\r\n    var lastDocumentHeight = document.documentElement.scrollHeight;\r\n\r\n    function onPageLoad() {\r\n        if (this.status === 404) {\r\n            window.removeEventListener('scroll', onScroll);\r\n            window.removeEventListener('resize', onResize);\r\n            return;\r\n        }\r\n\r\n        // append contents\r\n        var postElements = this.response.querySelectorAll('.post-card');\r\n        postElements.forEach(function (item) {\r\n            // document.importNode is important, without it the item's owner\r\n            // document will be different which can break resizing of\r\n            // `object-fit: cover` images in Safari\r\n            feedElement.appendChild(document.importNode(item, true));\r\n        });\r\n\r\n        // set next link\r\n        var resNextElement = this.response.querySelector('link[rel=next]');\r\n        if (resNextElement) {\r\n            nextElement.href = resNextElement.href;\r\n        } else {\r\n            window.removeEventListener('scroll', onScroll);\r\n            window.removeEventListener('resize', onResize);\r\n        }\r\n\r\n        // sync status\r\n        lastDocumentHeight = document.documentElement.scrollHeight;\r\n        ticking = false;\r\n        loading = false;\r\n    }\r\n\r\n    function onUpdate() {\r\n        // return if already loading\r\n        if (loading) {\r\n            return;\r\n        }\r\n\r\n        // return if not scroll to the bottom\r\n        if (lastScrollY + lastWindowHeight <= lastDocumentHeight - buffer) {\r\n            ticking = false;\r\n            return;\r\n        }\r\n\r\n        loading = true;\r\n\r\n        var xhr = new window.XMLHttpRequest();\r\n        xhr.responseType = 'document';\r\n\r\n        xhr.addEventListener('load', onPageLoad);\r\n\r\n        xhr.open('GET', nextElement.href);\r\n        xhr.send(null);\r\n    }\r\n\r\n    function requestTick() {\r\n        ticking || window.requestAnimationFrame(onUpdate);\r\n        ticking = true;\r\n    }\r\n\r\n    function onScroll() {\r\n        lastScrollY = window.scrollY;\r\n        requestTick();\r\n    }\r\n\r\n    function onResize() {\r\n        lastWindowHeight = window.innerHeight;\r\n        lastDocumentHeight = document.documentElement.scrollHeight;\r\n        requestTick();\r\n    }\r\n\r\n    window.addEventListener('scroll', onScroll, {passive: true});\r\n    window.addEventListener('resize', onResize);\r\n\r\n    requestTick();\r\n})(window, document);\r\n","/* eslint-env browser */\r\n\r\n/**\r\n * Nav/Title replacement\r\n * Used on invividual post pages, displays the post title in place of the nav\r\n * bar when scrolling past the title\r\n *\r\n * Usage:\r\n * ```\r\n * Casper.stickyTitle({\r\n *     navSelector: '.site-nav-main',\r\n *     titleSelector: '.post-full-title',\r\n *     activeClass: 'nav-post-title-active'\r\n * });\r\n * ```\r\n */\r\n\r\n(function (window, document) {\r\n    // set up Casper as a global object\r\n    if (!window.Casper) {\r\n        window.Casper = {};\r\n    }\r\n\r\n    window.Casper.stickyNavTitle = function stickyNavTitle(options) {\r\n        var nav = document.querySelector(options.navSelector);\r\n        var title = document.querySelector(options.titleSelector);\r\n        var progressEl = document.querySelector(options.progressSelector);\r\n\r\n        var lastScrollY = window.scrollY;\r\n        var ticking = false;\r\n\r\n        function onScroll() {\r\n            lastScrollY = window.scrollY;\r\n            requestTick();\r\n        }\r\n\r\n        function requestTick() {\r\n            if (!ticking) {\r\n                requestAnimationFrame(update);\r\n            }\r\n            ticking = true;\r\n        }\r\n\r\n        function update() {\r\n            var trigger = title.getBoundingClientRect().top + window.scrollY;\r\n            var triggerOffset = title.offsetHeight + 35;\r\n\r\n            // show/hide post title\r\n            if (lastScrollY >= trigger + triggerOffset) {\r\n                nav.classList.add(options.activeClass);\r\n            } else {\r\n                nav.classList.remove(options.activeClass);\r\n            }\r\n\r\n            // Calculate reding progress using window y property\r\n            var progress = (window.scrollY)/(document.body.clientHeight-window.innerHeight)*100;\r\n            progressEl.style.width = progress + \"%\";\r\n\r\n\r\n            ticking = false;\r\n        }\r\n\r\n        window.addEventListener('scroll', onScroll, {passive: true});\r\n\r\n        update();\r\n    };\r\n})(window, document);\r\n"]}